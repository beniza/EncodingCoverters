; This file was created by <author> using TECkitMappingEditorU.exe v4.0.0.0 on 1/27/2022.
;   Conversion Type = Unicode_to_from_Unicode
;   Left-hand side font = Annapurna SIL;14.25
;   Right-hand side font = Rachana;15.75
;   Main Window Position = 0,0,747,728
;   Left-hand side Character Map Window Position = 733,6,633,488
;   Right-hand side Character Map Window Position = 1361,0,743,492

LHSName                 "canonical name of the 'source' encoding or left-hand side of the conversion"
RHSName                 "canonical name of the 'target' encoding or right-hand side of the conversion"
LHSDescription          "description for the left-hand side of the mapping"
RHSDescription          "description for the right-hand side of the mapping"
Version                 "1"
Contact                 "mailto:user@addr"
RegistrationAuthority   "the organization responsible for the encoding"
RegistrationName        "the name and version of the mapping, as recognized by that authority"
Copyright               "© 2022 <CompanyName>. All rights reserved."
LHSFlags                ()
RHSFlags                ()

pass(Unicode)
class[deva_cons]=(U+0915 .. U+092F U+0931 .. U+0939)
class[mala_cons]=(U+0d15 .. U+0D2F U+0D31 .. U+0d39)
class[ws] = (0x9 0xA 0xD 0x20)
class[punct] = (0x21 .. 0x2F 0x3A .. 0x40 0x5E .. 0x60 0x7B .. 0x7F)


; Consonant clusters
;[deva_cons]=dc / _ [deva_cons] <> @dc U+0D4D / _ [mala_cons]

; Handling implicit virama in word filnal consonants in Devanagari
[deva_cons]=dc / _ (# | [ws] | [punct]) <> @dc U+0D4D

pass(Unicode)

class[ws] = (0x9 0xA 0xD 0x20)
class[punct] = (0x21 .. 0x2F 0x3A .. 0x40 0x5E .. 0x60 0x7B .. 0x7F)

class[deva_marks]=(U+0901 .. U+0903)
class[mala_marks]=(U+0d01 .. U+0d03)

class[deva_vowels]=(U+0905..U+090c U+090e..U+0910 U+0912..U+0914)
class[mala_vowels]=(U+0d05..U+0d0c U+0d0e..U+0d10 U+0d12..U+0d14)
class[deva_cons]=(U+0915 .. U+092F U+0931 .. U+0939)
class[mala_cons]=(U+0d15 .. U+0D2F U+0D31 .. U+0d39)
class[deva_vowel_sign]=(U+093d .. U+0944 U+0946 .. U+094C)
class[mala_vowel_sign]=(U+0d3d .. U+0d44 U+0d46 .. U+0d4C)
class[deva_virama] = (U+094D)
class[mala_virama] = (U+0D4D)
class[deva_ri_lu]=(U+0960 .. U+0963)
class[mala_ri_lu]=(U+0d60 .. U+0d63)
class[deva_digits]=(U+0966 .. U+096f)
class[mala_digits]=(U+0d66 .. U+0d6f)
class[deva_fullstop]=(U+0964)
class[mala_fullstop]=(".")

class[deva_nomatch] = (U+0900 U+0904 U+090D U+0911 U+093A..U+093C U+0945\
                       U+0949 U+094E U+094F U+0950..U+095F\
                       U+0970..U+097F)
class[mala_nomatch] = (U+0d00 U+0d04 U+0D0D U+0D11 U+0D3A..U+0D3C U+0D45\
                       U+0D49 U+0D4E U+0D4F U+0D50..U+0D5F U+0D65\
                       U+0D70..U+0D7B U+0D7D .. U+0D7F)

[deva_nomatch] > U+00bf ; inverted question mark: to represent characters that do not have a match in Malayalam
U+00bf < [mala_nomatch]

U+0907 / [deva_vowel_sign] _ <> U+0D2F U+0D3F / [deva_vowel_sign] _ 
U+0908 / [deva_vowel_sign] _ <> U+0D2F U+0D40 / [deva_vowel_sign] _ 


; Handling the rendring of 'r'
U+0930 <> U+0D7C
U+0930 U+094D <> U+0D7C zero_width_space
U+0930 / U+094D _ <> U+0D30
U+0930 /  _ [deva_vowel_sign] <> U+0D30
U+0930 / (# | [ws] | [punct]) _ <> U+0d30

; General mappings

[deva_marks] <> [mala_marks]
[deva_vowels] <> [mala_vowels]
[deva_cons]<>[mala_cons]
[deva_vowel_sign]<>[mala_vowel_sign]
[deva_virama] <> [mala_virama]
;[deva_fullstop] <> [mala_fullstop]
[deva_ri_lu]<>[mala_ri_lu]
[deva_digits]<>[mala_digits]

pass(unicode)
class[ws] = (0x9 0xA 0xD 0x20)
class[punct] = (0x21 .. 0x2F 0x3A .. 0x40 0x5E .. 0x60 0x7B .. 0x7F)

"ന്" / ( # | [ws] | [punct] ) _ ( # | [ws] | [punct] )> "ന"

